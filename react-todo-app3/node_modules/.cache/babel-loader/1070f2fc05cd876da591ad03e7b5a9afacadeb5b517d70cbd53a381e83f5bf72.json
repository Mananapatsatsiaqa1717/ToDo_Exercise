{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst getInitialTodo = () => {\n  // getting todo list\n  const localTodoList = window.localStorage.getItem('todoList');\n  // if todo list is not empty\n  if (localTodoList) {\n    return JSON.parse(localTodoList);\n  }\n  window.localStorage.setItem('todoList', []);\n  return [];\n};\nconst initialValue = {\n  filterStatus: 'all',\n  todoList: getInitialTodo()\n};\nexport const todoSlice = createSlice({\n  name: 'todo',\n  initialState: initialValue,\n  reducers: {\n    addTodo: (state, action) => {\n      state.todoList.push(action.payload);\n      const todoList = window.localStorage.getItem('todoList');\n      if (todoList) {\n        const todoListArr = JSON.parse(todoList);\n        todoListArr.push({\n          ...action.payload\n        });\n        window.localStorage.setItem('todoList', JSON.stringify(todoListArr));\n      } else {\n        window.localStorage.setItem('todoList', JSON.stringify([{\n          ...action.payload\n        }]));\n      }\n    },\n    updateTodo: (state, action) => {\n      const todoList = window.localStorage.getItem('todoList');\n      if (todoList) {\n        const todoListArr = JSON.parse(todoList);\n        todoListArr.forEach(todo => {\n          if (todo.id === action.payload.id) {\n            todo.status = action.payload.status;\n            todo.title = action.payload.title;\n          }\n        });\n        window.localStorage.setItem('todoList', JSON.stringify(todoListArr));\n        state.todoList = [...todoListArr];\n      }\n    },\n    deleteTodo: (state, action) => {\n      const todoList = window.localStorage.getItem('todoList');\n      if (todoList) {\n        const todoListArr = JSON.parse(todoList);\n        todoListArr.forEach((todo, index) => {\n          if (todo.id === action.payload) {\n            todoListArr.splice(index, 1);\n          }\n        });\n        window.localStorage.setItem('todoList', JSON.stringify(todoListArr));\n        state.todoList = todoListArr;\n      }\n    },\n    updateFilterStatus: (state, action) => {\n      state.filterStatus = action.payload;\n    }\n  }\n});\nexport const {\n  addTodo,\n  updateTodo,\n  deleteTodo,\n  updateFilterStatus\n} = todoSlice.actions;\nexport default todoSlice.reducer;","map":{"version":3,"names":["createSlice","getInitialTodo","localTodoList","window","localStorage","getItem","JSON","parse","setItem","initialValue","filterStatus","todoList","todoSlice","name","initialState","reducers","addTodo","state","action","push","payload","todoListArr","stringify","updateTodo","forEach","todo","id","status","title","deleteTodo","index","splice","updateFilterStatus","actions","reducer"],"sources":["C:/Users/manan/Downloads/react-todo-app/react-todo-app3/src/slices/todoSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst getInitialTodo = () => {\n  // getting todo list\n  const localTodoList = window.localStorage.getItem('todoList');\n  // if todo list is not empty\n  if (localTodoList) {\n    return JSON.parse(localTodoList);\n  }\n  window.localStorage.setItem('todoList', []);\n  return [];\n};\n\nconst initialValue = {\n  filterStatus: 'all',\n  todoList: getInitialTodo(),\n};\n\nexport const todoSlice = createSlice({\n  name: 'todo',\n  initialState: initialValue,\n  reducers: {\n    addTodo: (state, action) => {\n      state.todoList.push(action.payload);\n      const todoList = window.localStorage.getItem('todoList');\n      if (todoList) {\n        const todoListArr = JSON.parse(todoList);\n        todoListArr.push({\n          ...action.payload,\n        });\n        window.localStorage.setItem('todoList', JSON.stringify(todoListArr));\n      } else {\n        window.localStorage.setItem(\n          'todoList',\n          JSON.stringify([\n            {\n              ...action.payload,\n            },\n          ])\n        );\n      }\n    },\n    updateTodo: (state, action) => {\n      const todoList = window.localStorage.getItem('todoList');\n      if (todoList) {\n        const todoListArr = JSON.parse(todoList);\n        todoListArr.forEach((todo) => {\n          if (todo.id === action.payload.id) {\n            todo.status = action.payload.status;\n            todo.title = action.payload.title;\n          }\n        });\n        window.localStorage.setItem('todoList', JSON.stringify(todoListArr));\n        state.todoList = [...todoListArr];\n      }\n    },\n    deleteTodo: (state, action) => {\n      const todoList = window.localStorage.getItem('todoList');\n      if (todoList) {\n        const todoListArr = JSON.parse(todoList);\n        todoListArr.forEach((todo, index) => {\n          if (todo.id === action.payload) {\n            todoListArr.splice(index, 1);\n          }\n        });\n        window.localStorage.setItem('todoList', JSON.stringify(todoListArr));\n        state.todoList = todoListArr;\n      }\n    },\n    updateFilterStatus: (state, action) => {\n      state.filterStatus = action.payload;\n    },\n  },\n});\n\nexport const { addTodo, updateTodo, deleteTodo, updateFilterStatus } =\n  todoSlice.actions;\nexport default todoSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}